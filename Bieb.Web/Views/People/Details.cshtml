@model Bieb.Domain.Entities.Person

@{
    ViewBag.Title = Model.FullName;
}

@{ Html.RenderPartial("Card", Model); }

@if (Model.Reviews.Any())
{
    <section class="reviews">
    @foreach (var review in Model.Reviews)
    { 
        <p>@review.ReviewText</p>
    }
    </section>
}

<section class="books">
    @if (Model.AuthoredNovels.Any())
    { 
        <section class="itemList authoredNovels">
            <h4>@BiebResources.SharedStrings.Novels</h4>
            @{ Html.RenderPartial("~/Views/Books/ItemList.cshtml", Model.AuthoredNovels); }
        </section>
    }

    @if (Model.EditedBooks.Count > 0)
    { 
        <section class="itemList editedBooks">
            <h4>@BiebResources.PersonStrings.EditedBooks</h4>
            @{ Html.RenderPartial("~/Views/Books/ItemList.cshtml", Model.EditedBooks); }
        </section>
    }
    
    @if (Model.AuthoredCollections.Any())
    { 
        <section class="itemList authoredCollections">
            <h4>@BiebResources.PersonStrings.AuthoredCollections</h4>
            @{ Html.RenderPartial("~/Views/Books/ItemList.cshtml", Model.AuthoredCollections); }
        </section>
    }
</section>

<section class="stories">
    @if (Model.TranslatedStories.Count > 0)
    { 
        <section class="itemList translatedStories">
            <h4>@BiebResources.PersonStrings.TranslatedStories</h4>
            @{ Html.RenderPartial("~/Views/Stories/ItemList.cshtml", Model.TranslatedStories); }
        </section>
    }
        
    @if (Model.AuthoredShortStories.Any())
    {
        // TODO: Split between short stories and novels
        <section class="itemList authoredShortStories">
            <h4>@BiebResources.PersonStrings.AuthoredShortStories</h4>
            @{ Html.RenderPartial("~/Views/Stories/ItemList.cshtml", Model.AuthoredShortStories); }
        </section>
    }
</section>